## **ЁЯФ╣ PHP Database Migrations рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб**  

PHP Database Migrations ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ **ржбрж╛ржЯрж╛ржмрзЗржЬ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐, ржЖржкржбрзЗржЯ, ржоржбрж┐ржлрж╛ржЗ ржПржмржВ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рзЛрж▓ржмрзНржпрж╛ржХ** ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред Laravel-ржПрж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржПржЯрж┐ **Eloquent ORM**-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржХрж░рж╛ ржпрж╛рзЯред  

ржПржЗ ржЧрж╛ржЗржбрзЗ ржЖржкржирж┐ рж╢рж┐ржЦржмрзЗржи:  
тЬЕ Database Migration ржХрзА?  
тЬЕ Laravel-ржП Database Migration ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?  
тЬЕ ржирждрзБржи ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐, ржЖржкржбрзЗржЯ, рж░рзЛрж▓ржмрзНржпрж╛ржХ, рж╕рж┐ржбрж┐ржВ ржПржмржВ ржлрзНржпрж╛ржХрзНржЯрж░рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛  

---

# **ЁЯФ╣ 1я╕ПтГг Database Migration ржХрзА?**  
Database Migration рж╣рж▓ **ржбрж╛ржЯрж╛ржмрзЗржЬ рж╕рзНржХрж┐ржорж╛ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржПржХржЯрж┐ ржнрж╛рж░рзНрж╕ржи ржХржирзНржЯрзНрж░рзЛрж▓ ржорзЗржержб** ржпрж╛ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐рж░ ржХрж╛ржЬ рж╕рж╣ржЬ ржХрж░рзЗред  
ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ **ржХрзЛржирзЛ GUI-рждрзЗ (phpMyAdmin) ржЧрж┐рзЯрзЗ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣рзЯ ржирж╛**, ржмрж░ржВ ржХрзЛржб ржжрж┐рзЯрзЗ ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛ ржпрж╛рзЯред  

---

# **ЁЯФ╣ 2я╕ПтГг Laravel-ржП Database Migration рж╕рзЗржЯржЖржк**  
Migration ржЪрж╛рж▓рж╛рждрзЗ Laravel Project-ржП **ржбрж╛ржЯрж╛ржмрзЗржЬ ржХрж╛ржирзЗржХрж╢ржи рж╕рзЗржЯржЖржк** ржХрж░рждрзЗ рж╣ржмрзЗред  

ЁЯСЙ `.env` ржлрж╛ржЗрж▓рзЗ **Database Configuration** ржарж┐ржХ ржХрж░рзЗ ржирж┐ржи:  
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=your_database_name
DB_USERNAME=root
DB_PASSWORD=
```

ЁЯСЙ рждрж╛рж░ржкрж░ Terminal-ржП **ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рж╛ржи ржХрж░рзБржи**:  
```sh
php artisan migrate
```
тЬФ ржПржЯрж┐ Laravel-ржПрж░ **ржбрж┐ржлрж▓рзНржЯ ржЯрзЗржмрж┐рж▓ (users, password_resets, failed_jobs)** рждрзИрж░рж┐ ржХрж░ржмрзЗред

---

# **ЁЯФ╣ 3я╕ПтГг ржирждрзБржи ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рж╛**  
Laravel-ржП ржирждрзБржи ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ **ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржлрж╛ржЗрж▓ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рждрзЗ рж╣рзЯред**  

ЁЯСЙ ржПржХржЯрж┐ ржирждрзБржи ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рждрзЗ:  
```sh
php artisan make:migration create_posts_table
```
тЬФ ржПржЯрж┐ `database/migrations/` ржлрзЛрж▓рзНржбрж╛рж░рзЗ **ржПржХржЯрж┐ ржирждрзБржи ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░ржмрзЗред**  

ЁЯСЙ ржПржмрж╛рж░ `create_posts_table.php` ржлрж╛ржЗрж▓ржЯрж┐ ржПржбрж┐ржЯ ржХрж░рзБржи:  
```php
use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up(): void
    {
        Schema::create('posts', function (Blueprint $table) {
            $table->id();
            $table->string('title');
            $table->text('content');
            $table->timestamps();
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('posts');
    }
};
```
тЬФ ржПржЦрж╛ржирзЗ `up()` ржорзЗржержбрзЗ **ржирждрзБржи ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржХрзЛржб**, ржПржмржВ `down()` ржорзЗржержбрзЗ **ржЯрзЗржмрж┐рж▓ ржбрзНрж░ржк ржХрж░рж╛рж░ ржХрзЛржб** рж░рзЯрзЗржЫрзЗред  

ЁЯСЙ ржПржмрж╛рж░ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рж╛ржи ржХрж░рзБржи:  
```sh
php artisan migrate
```
тЬФ **"posts" ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐ рж╣рзЯрзЗ ржпрж╛ржмрзЗред**  

---

# **ЁЯФ╣ 4я╕ПтГг ржмрж┐ржжрзНржпржорж╛ржи ржЯрзЗржмрж┐рж▓рзЗ ржирждрзБржи ржХрж▓рж╛ржо ржпрзЛржЧ ржХрж░рж╛**  
ржЯрзЗржмрж┐рж▓рзЗ **ржирждрзБржи ржХрж▓рж╛ржо ржпрзЛржЧ ржХрж░рждрзЗ** ржирждрзБржи ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи:  
```sh
php artisan make:migration add_status_to_posts_table --table=posts
```
тЬФ ржПржЯрж┐ `add_status_to_posts_table.php` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░ржмрзЗред  

ЁЯСЙ ржлрж╛ржЗрж▓ржЯрж┐ ржЖржкржбрзЗржЯ ржХрж░рзБржи:  
```php
public function up(): void
{
    Schema::table('posts', function (Blueprint $table) {
        $table->string('status')->default('draft');
    });
}

public function down(): void
{
    Schema::table('posts', function (Blueprint $table) {
        $table->dropColumn('status');
    });
}
```
ЁЯСЙ рждрж╛рж░ржкрж░ **ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рж╛ржи ржХрж░рзБржи**:  
```sh
php artisan migrate
```
тЬФ **"posts" ржЯрзЗржмрж┐рж▓рзЗ "status" ржирж╛ржорзЗ ржирждрзБржи ржХрж▓рж╛ржо ржпрзБржХрзНржд рж╣ржмрзЗред**  

---

# **ЁЯФ╣ 5я╕ПтГг ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рзЛрж▓ржмрзНржпрж╛ржХ ржХрж░рж╛ (Undo Migrations)**  
ржХрзЛржирзЛ ржкрж░рж┐ржмрж░рзНрждржи **ржкрж┐ржЫрж┐рзЯрзЗ ржЖржирждрзЗ (rollback) рж╣рж▓рзЗ**, ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржб ржЪрж╛рж▓рж╛ржи:  
```sh
php artisan migrate:rollback
```
тЬФ ржПржЯрж┐ **рж╕рж░рзНржмрж╢рзЗрж╖ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржмрж╛рждрж┐рж▓ (undo) ржХрж░ржмрзЗред**  

ЁЯСЙ рж╕ржм ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржбрзНрж░ржк ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп:  
```sh
php artisan migrate:fresh
```
тЬФ **рж╕ржХрж▓ ржЯрзЗржмрж┐рж▓ ржбрж┐рж▓рж┐ржЯ рж╣рзЯрзЗ ржирждрзБржиржнрж╛ржмрзЗ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржЪрж▓ржмрзЗред**  

---

# **ЁЯФ╣ 6я╕ПтГг ржбрж╛ржЯрж╛ржмрзЗржЬ рж╕рж┐ржбрж┐ржВ (Seeding) - Dummy Data Insert ржХрж░рж╛**  
рж╕рж┐ржбрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ **ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ ржбрж╛ржорж┐ ржбрж╛ржЯрж╛ (Dummy Data) ржЗржирзНрж╕рж╛рж░рзНржЯ** ржХрж░рж╛ ржпрж╛рзЯред  

ЁЯСЙ ржПржХржЯрж┐ Seeder рждрзИрж░рж┐ ржХрж░рзБржи:  
```sh
php artisan make:seeder PostSeeder
```
тЬФ ржПржЯрж┐ `database/seeders/PostSeeder.php` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░ржмрзЗред  

ЁЯСЙ ржлрж╛ржЗрж▓ржЯрж┐ ржЖржкржбрзЗржЯ ржХрж░рзБржи:  
```php
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class PostSeeder extends Seeder
{
    public function run(): void
    {
        DB::table('posts')->insert([
            'title' => 'First Post',
            'content' => 'This is the content of the first post.',
            'status' => 'published'
        ]);
    }
}
```
ЁЯСЙ Seeder рж░рж╛ржи ржХрж░рзБржи:  
```sh
php artisan db:seed --class=PostSeeder
```
тЬФ **"posts" ржЯрзЗржмрж┐рж▓рзЗ ржбрж╛ржЯрж╛ ржЗржирзНрж╕рж╛рж░рзНржЯ рж╣ржмрзЗред**  

ЁЯСЙ рж╕ржм Seeder ржПржХрж╕рж╛ржерзЗ рж░рж╛ржи ржХрж░рждрзЗ:  
```sh
php artisan db:seed
```

---

# **ЁЯФ╣ 7я╕ПтГг Model Factory ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Dummy Data Insert ржХрж░рж╛**  
**Factory** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Laravel **Random Dummy Data** рждрзИрж░рж┐ ржХрж░рждрзЗ ржкрж╛рж░рзЗред  

ЁЯСЙ ржкрзНрж░ржержорзЗ Factory рждрзИрж░рж┐ ржХрж░рзБржи:  
```sh
php artisan make:factory PostFactory --model=Post
```
тЬФ ржПржЯрж┐ `database/factories/PostFactory.php` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░ржмрзЗред  

ЁЯСЙ ржлрж╛ржЗрж▓ржЯрж┐ ржЖржкржбрзЗржЯ ржХрж░рзБржи:  
```php
use Illuminate\Database\Eloquent\Factories\Factory;

class PostFactory extends Factory
{
    public function definition()
    {
        return [
            'title' => $this->faker->sentence(),
            'content' => $this->faker->paragraph(),
            'status' => 'published',
        ];
    }
}
```
ЁЯСЙ ржПржЦржи **tinker ржжрж┐рзЯрзЗ ржбрж╛ржЯрж╛ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рзБржи**:  
```sh
php artisan tinker
```
ЁЯСЙ ржПрж░ржкрж░ **50ржЯрж┐ Dummy Post рждрзИрж░рж┐ ржХрж░рзБржи**:  
```php
\App\Models\Post::factory()->count(50)->create();
```
тЬФ **ржбрж╛ржЯрж╛ржмрзЗржЬрзЗ рзлрзжржЯрж┐ рж░тАНрзНржпрж╛ржирзНржбржо ржкрзЛрж╕рзНржЯ ржпрзБржХрзНржд рж╣ржмрзЗ!** ЁЯОЙ  

---

## **ЁЯФе рж╕ржВржХрзНрж╖рзЗржкрзЗ Laravel Migration & Seeding Cheat Sheet**  
тЬЕ **ржирждрзБржи ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рждрзИрж░рж┐ ржХрж░рзБржи**  
```sh
php artisan make:migration create_posts_table
```
тЬЕ **ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рж╛ржи ржХрж░рзБржи**  
```sh
php artisan migrate
```
тЬЕ **ржЯрзЗржмрж┐рж▓рзЗ ржирждрзБржи ржХрж▓рж╛ржо ржпрзЛржЧ ржХрж░рзБржи**  
```sh
php artisan make:migration add_status_to_posts_table --table=posts
```
тЬЕ **ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи рж░рзЛрж▓ржмрзНржпрж╛ржХ ржХрж░рзБржи**  
```sh
php artisan migrate:rollback
```
тЬЕ **ржбрж╛ржЯрж╛ржмрзЗржЬ рж╕рж┐ржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи**  
```sh
php artisan make:seeder PostSeeder
```
тЬЕ **ржлрзНржпрж╛ржХрзНржЯрж░рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Dummy Data рждрзИрж░рж┐ ржХрж░рзБржи**  
```sh
php artisan make:factory PostFactory --model=Post
```

---

ржПржЯрж┐ Laravel Database Migrations-ржПрж░ **ржПржХржЯрж┐ рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб** ржпрж╛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж┐ **ржбрж╛ржЯрж╛ржмрзЗржЬ ржЯрзЗржмрж┐рж▓ рждрзИрж░рж┐, ржЖржкржбрзЗржЯ, ржоржбрж┐ржлрж╛ржЗ ржПржмржВ ржбрж╛ржЯрж╛ ржЗржирзНрж╕рж╛рж░рзНржЯ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗржи!** ЁЯЪА  

ржЖржкржирж╛рж░ ржпржжрж┐ ржХрзЛржирзЛ ржкрзНрж░рж╢рзНржи ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ ржЬрж╛ржирж╛ржмрзЗржи! ЁЯШК